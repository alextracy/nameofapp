<div ng-controller="OrdersCtrl">
	<h1>Orders</h1>

	<form class="form-inline" ng-submit="addOrder()" style="text-align:center;">
		<table style="margin-top: 2%" class="table table-hover">
		<thead style="text-align:center">
			<td><strong>Quanity: </strong></td>
			<td><strong>Price: </strong></td>
			<td><strong>Product </strong></td>
		</thead>
		<tr>

		<td>
			<input type="number" class="form-control" ng-model="newOrder.product_id" placeholder="#" style="width:50px;">
		</td>

		<td>
			<input type="number" step="0,01" class="form-control" placeholder="Total" ng-model="newOrder.total" style="width:75px; ">
		</td>
		
		<td>
			<select ng-model="newOrder.product_id" class="form-control">
				<option value="" disabled selected>Select a product</option>
				<option ng-repeat="product in products" value="{{product.id}}">
				{{product.name}}
				</option>
			</select>
		</td>
		<td>
			<input type="submit" value="+" class="btn btn-success">
		</td>
	</form>

	<table style="margin-top: 2%" class="table table-hover">
		<thead style="text-align:center">
			<td>Order ID</td>
			<td>Total</td>
			<td>Product</td>
			<td>Remove</td>
		</thead>
		<tr style="text-align:center" ng-repeat="order in orders | orderBy:'-id':reverse">
			<td>
				{{order.id}}
			</td>
			<td>
				<strong>
					{{order.total | currency}}
				</strong>
			</td>
			<td>
				{{order.product.name}}
				<small ng-show= "order.id">
					<br>
					{{order.user.email}}
				</small>
			</td>
			<td>
				<!--<button ng-click="deleteOrder(order)" class="">
					<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
				</button> we will fill this later with content -->
				<%= link_to '', :'ng-click' => "deleteOrder(order)", class: "btn btn-danger btn-sm" do %>
				<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
				<% end %>

				<!--:id => "order_#{order.id}"-->
			</td>
		<tr>
	</table>
</div>
<div class="btn btn-md btn-default back">
  <%= link_to "Back", products_path %>
</div>